<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Page</title>
    <link rel="stylesheet" href="/Style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>
<body>
<div th:replace="/headerFragment :: header"></div>
<div class="searchPage-Categories">
    <form th:action="@{/search_anime}" th:method="POST">
        <label>
            <p>Category</p>
            <input type="checkbox" name="category" value="action">Action<br>
            <input type="checkbox" name="category" value="adventure">Adventure<br>
            <input type="checkbox" name="category" value="comedy">Comedy<br>
            <input type="checkbox" name="category" value="drama">Drama<br>
            <input type="checkbox" name="category" value="fantasy">Fantasy<br>
            <input type="checkbox" name="category" value="horror">Horror<br>
        </label>
        <button th:type="submit">Search Anime</button>
    </form>
</div>
<div th:unless="${searchedAnime.isEmpty()}" th:each="anime : ${searchedAnime}">
    <p th:if="${anime.titleEng() != null}" th:text="${anime.titleEng()}">Loading..</p>
    <img th:if="${anime.posterImage() != null}" th:src="${anime.posterImage}" alt="Poster Image">
    <form th:action="@{/rate_anime}" th:method="POST">
        <input type="hidden" th:value="${anime.posterImage()}" th:name="posterImage">
        <input type="hidden" th:value="${anime.titleEng()}" th:name="titleEng">
        <input type="hidden" th:value="${anime.titleJP()}" th:name="titleJP">
        <input type="hidden" th:value="${anime.description()}" th:name="description">
        <input type="hidden" th:value="${anime.episodes()}" th:name="episodes">
        <button th:type="submit">rate</button>
    </form>
</div>
</body>
</html>